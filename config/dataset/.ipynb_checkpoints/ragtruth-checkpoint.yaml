# =============================================================================
# RAGTruth Dataset Configuration
# =============================================================================
# RAGTruth是一个用于评估LLM幻觉检测的基准数据集
# 包含多种任务类型和来源模型的响应
# =============================================================================

name: ragtruth
path: /share/home/tm902089733300000/a903202310/lys/data/RAGTruth/dataset
cls_path: src.data.ragtruth.RAGTruthDataset

# =============================================================================
# 数据过滤选项
# =============================================================================

# -----------------------------------------------------------------------------
# 当前处理的数据集划分（DVC命令行覆盖用）
# 可选: train, test
# -----------------------------------------------------------------------------
split_name: train

# -----------------------------------------------------------------------------
# 数据集划分
# 可选: train, test, validation
# 示例: [train, test] 或 [test]
# -----------------------------------------------------------------------------
splits:
  - test
  - train

# -----------------------------------------------------------------------------
# 任务类型过滤
# 支持两种配置方式：
#   - task_type: 单个任务类型（字符串，DVC matrix 使用）
#   - task_types: 多个任务类型（列表）
#
# task_type 优先级高于 task_types
# 可选值: QA, Summary, Data2txt
# null = 所有任务类型
# -----------------------------------------------------------------------------
task_type: null

# -----------------------------------------------------------------------------
# ⭐ 源模型过滤 (重要功能)
# 
# 用于筛选特定模型生成的响应
# null = 不过滤，使用所有模型
# 
# 支持部分匹配：
#   - 'gpt-4' 会匹配 'gpt-4-0613', 'gpt-4-turbo' 等
#   - 'llama' 会匹配所有包含 'llama' 的模型
#
# 可用模型示例（具体取决于数据集版本）:
#   - gpt-4, gpt-4-0613
#   - gpt-3.5-turbo
#   - llama-2-7b-chat, llama-2-13b-chat, llama-2-70b-chat
#   - mistral-7b-instruct
#
# 使用示例:
#   models: [gpt-4]                    # 仅GPT-4生成的响应
#   models: [gpt-4, llama-2-7b-chat]   # GPT-4和Llama-2-7B
#   models: [llama]                    # 所有Llama模型（部分匹配）
#
# 命令行覆盖:
#   python scripts/generate_activations.py dataset.models=[gpt-4]
# -----------------------------------------------------------------------------
models: [mistral-7B-instruct]

# -----------------------------------------------------------------------------
# 最大样本数
# null = 不限制
# 用于调试或快速测试
# -----------------------------------------------------------------------------
max_samples: null

# -----------------------------------------------------------------------------
# 质量排除
# 排除特定质量问题的样本
# 
# 可选值:
#   - incorrect_refusal: 模型错误拒绝回答
#   - truncated: 响应被截断
#   - low_quality: 低质量响应
#   - off_topic: 偏离主题
# -----------------------------------------------------------------------------
exclude_quality:
  - incorrect_refusal
  - truncated

# =============================================================================
# 特征提取配置
# =============================================================================

# 响应的最大token数
max_answer_tokens: 512

# 目标列名（用于标签）
target_column_name: response

# 测试集名称
test_split_name: test

# =============================================================================
# 高级选项
# =============================================================================

# 是否包含元数据（如span标注）
include_metadata: true

# 是否验证数据完整性
validate_data: true

# 缓存设置
cache:
  enabled: true
  path: ${base_dir}/cache/ragtruth